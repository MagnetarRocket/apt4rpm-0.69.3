<?xml version='1.0' encoding='ISO-8859-1'?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>

  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
    <meta name='generator' content='dtd2html 0.41 (Perl 5.008005)' />
    
    <title>Element script</title>
    
    <link href='style.css' rel='stylesheet' type='text/css'/>
    
    
    <link rel='Prev' href='dtd-manual.elt.repdir.html'/>
    
    
    <link rel='Next' href='dtd-manual.elt.sharedir.html'/>
    
  </head>

  <body>
    <div class='navheader'>
      <table summary='Header navigation table' width='100%' border='0' cellpadding='0' cellspacing='0'>
        <colgroup><col width='20%'/><col width='60%'/><col width='20%'/></colgroup>
        <tr>
          <th colspan='3' align='center'>aptate configuration manual</th>
        </tr>
        <tr valign='bottom'>
          <td align='left'>
            
              <a href='dtd-manual.elt.repdir.html' accesskey='P'><img src='prev.png' alt='Previous' border='0'/></a>
            
          </td>
          <td align='center'>&nbsp;</td>
          <td align='right'>
            
              <a href='dtd-manual.elt.sharedir.html' accesskey='N'><img src='next.png' alt='Next' border='0'/></a>
            
          </td>
        </tr>
      </table>
      <hr />
    </div>


<h1>Element script</h1>
<h2>Name</h2>
<p>
script

</p>
<h2>Synopsis</h2>
<table class='synopsis' border='1' cellspacing='0' cellpadding='4'>
  <colgroup><col width='33%'/><col width='34%'/><col width='33%'/></colgroup>
  <tr>
    <td class='title' colspan='3'>
    
        Mixed Content Model
    
    </td>
  </tr>
  <tr>
    <td colspan='3'><pre>script ::=
( #PCDATA )</pre></td>
  </tr>
  <tr>
    <td class='title' colspan='3'>Attributes</td>
  </tr>

  <tr>
    <td colspan='3'>None</td>
  </tr>

</table>
<h2>Description</h2>

  <p> Specifies a script to download packages 
</p>

  <p><p>The script can be wrapper around rsyncs, cp's or wget calls.  The script
 is triggered by the --update-rpms argument of aptate.  The rpms that are
 retrieved by the script must be stored at the location that is specified in
 the &lt;url> tag.
</p>
<p>The script is given 2 arguments, the 1st argument is the
 &lt;topdir&gt; and the 2nd one is
 the location where the rpms must be stored.  Find below an example of a
 possible download script.
</p>

<hr>
<pre>
# !/bin/sh

while test $# -gt 0; do
case $1 in
--redhat )
site=ftp://updates.redhat.com
prefix=
cutdirs=0
  shift
  break
  ;;
--* )
  echo "Invalid option $1"
  exit 1
  ;;
## More sites can be added here
* )
  break
  ;;
esac
done
if test $# -ne 2; then
  echo "Invalid number of arguments: $#"
  exit 1
fi

topdir=$1
urldir=$2

dst=${topdir}/mirrors/ftp.redhat.com/pub/updates
src=/8.0/en/os

if test -z "$site"; then
   echo "Missing site"
   exit 1
fi

if test "$d" != "0" ; then
   # don't d/l certain files based on today's weekday
   excludes="$excludes -X ${prefix}${src}/athlon"
fi

wget -r --cut-dirs=$cutdirs -m -nH -c --passive-ftp \
$excludes -P ${dst} ${site}${prefix}${src}
</pre>
<hr>
</p>



<!-- HERE, insert extra data -->



<h3>Parents</h3>
<p>These elements contain script:
  <a href='dtd-manual.elt.component.html'>component</a>
.
</p>


    <div class='navfooter'>
      <hr />
      <table summary='Footer navigation table' width='100%' border='0' cellpadding='0' cellspacing='0'>
        <colgroup><col width='33%'/><col width='34%'/><col width='33%'/></colgroup>
        <tr valign='top'>
          <td align='left'>
            
              <a href='dtd-manual.elt.repdir.html' accesskey='P'><img src='prev.png' alt='Previous' border='0'/></a>
            
          </td>
          <td align='center'>
            
              <a href='dtd-manual.book.home.html' accesskey='H'><img src='home.png' alt='Home' border='0'/></a>
            
          </td>
          <td align='right'>
            
              <a href='dtd-manual.elt.sharedir.html' accesskey='N'><img src='next.png' alt='Next' border='0'/></a>
            
          </td>
        </tr>
        <tr valign='top'>
          <td align='left'>repdir</td>
          <td align='center'>
            
              <a href='dtd-manual.book.elements_index.html' accesskey='U'><img src='up.png' alt='Up' border='0'/></a>
            
          </td>
          <td align='right'>sharedir</td>
        </tr>
        <tr>
           <td colspan='3' align='center'><cite>--- Generated by dtd2html ---</cite></td>
        </tr>
      </table>
    </div>
  </body>

</html>


